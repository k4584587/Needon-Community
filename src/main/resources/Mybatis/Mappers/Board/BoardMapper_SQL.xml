<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Board">

	<select id="list" resultType="Board">
		select * from nb_board_notice where cm_ck=0 order by no desc;
	</select>
	
	<select id="view" resultType="Board">
		select * from nb_board_notice where no = #{no};
	</select>
	
	<select id="listcount" resultType="int">
		select count(no) from nb_board_notice;
	</select>
	
	<update id="viewcount" parameterType="int">
		update nb_board_notice set read_count=read_count+1
		where no=#{no};
	</update>
	
	<insert id="insert">
		INSERT INTO nb_board_notice (subject, content, file, ip, wr_no) 
		VALUES (#{subject}, #{content}, #{file}, #{ip}, #{wr_no});
	</insert>
	
	<delete id="delete">
		DELETE FROM nb_board_notice WHERE no = #{no};
		ALTER TABLE nb_board_notice AUTO_INCREMENT=1;	
	</delete>
	
	<update id="modify">
		update nb_board_notice set subject=#{subject}, content=#{content}, file=#{file, jdbcType=BLOB},
		ip=#{ip, jdbcType=VARCHAR}, register_date=#{register_date} where no = #{no};
	</update>

</mapper>
